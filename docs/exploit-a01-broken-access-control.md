# A01 – Broken Access Control: Transaction Ownership Violation

## OWASP Category

**A01: Broken Access Control**

---

## Vulnerability Summary

The application allows any authenticated user to view **all transactions**, regardless of ownership.

Transactions are not bound to a specific user identity, and no authorization checks are performed when displaying them.

---

## Affected Components

* `StoreController`
* `MemoryDB.transactions`
* `Transaction.username` (not enforced)

---

## Exploitation Preconditions

* Attacker has a valid user account
* No elevated privileges required

This models a **low-privilege authenticated attacker**, one of the most common real-world threat profiles.

---

## Exploitation Steps

1. Register two users (User A and User B)
2. Log in as User A
3. Perform one or more "buy" actions
4. Log out
5. Log in as User B
6. Navigate to `/store`
7. Observe transactions created by User A

---

## Impact

* Exposure of sensitive user activity
* Privacy violations
* Regulatory risk (e.g. GDPR)
* Potential business intelligence leakage

---

## Root Cause Analysis

* Authentication is present, but **authorization is missing**
* Business logic does not enforce ownership
* Transactions are treated as global data

---

## Why This Matters

Access control failures are the **#1 web application risk** because:

* They are easy to introduce
* They are often missed in reviews
* They lead directly to data leaks

---

## Learning Outcome

* Authentication ≠ Authorization
* Every sensitive object needs an owner
* Access control must be explicit

---

## Next Step

➡ Patch branch: `patch-a01-access-control`

Bind transactions to authenticated users and enforce ownership checks.
